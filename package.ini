; Configuration for PHP_CompatInfo package
;
[options]
baseinstalldir = Bartlett
filelistgenerator = file
simpleoutput = true
clearcontents = false
changelogoldtonew = false

ignores[] = package.ini
ignores[] = *.log
ignores[] = *.tgz
ignores[] = ".git"
ignores[] = Thumbs.db
ignores[] = HOWTO.txt
ignores[] = genext.php
ignores[] = PEAR.php
ignores[] = netgrowl.php
ignores[] = IssueTest2.php
ignores[] = PackageTest.php
ignores[] = source3657.php
ignores[] = source7813.php
ignores[] = source13873.php

installexceptions[] = phpcompatinfo.xml.dist,
installexceptions[] = scripts/phpci,
installexceptions[] = scripts/phpci.bat,

exceptions[] = LICENSE, doc
exceptions[] = phpunit.xml, test
exceptions[] = phpcompatinfo.xml.dist, cfg
exceptions[] = README.markdown, doc
exceptions[] = fo-custom.xsl, doc
exceptions[] = build-phing.xml, doc
exceptions[] = local.win.properties, doc

[package]
name = PHP_CompatInfo
summary = Find out the minimum version and the extensions required for a piece of code to run
desc = "PHP_CompatInfo will parse a file/folder/array to find out the minimum
version and extensions required for it to run. CLI version has many reports
(extension, interface, class, function, constant) to display and ability to show
content of dictionary references.
"
license = "BSD License, http://www.opensource.org/licenses/bsd-license.php"
version = 2.9.0
version.api = 2.9.0
stability.release = stable
stability.api = stable

authors[] = "Laurent Laville, farell, pear@laurent-laville.org"
contributors[] = "Remi Collet, remicollet"

channel = bartlett.laurent-laville.org
notes = "

Versions summary:
- 2.9.0 support all PHP versions until 5.4.8
- 2.8.0 support all PHP versions until 5.4.7
- 2.7.0 support all PHP versions until 5.4.6
- 2.6.0 support all PHP versions until 5.4.5
- 2.5.0 support all PHP versions until 5.4.4
- 2.4.0 support all PHP versions until 5.4.3
- 2.3.0 support all PHP versions until 5.4.0
- 2.2.0 support all PHP versions until 5.3.10
- 2.1.0 support all PHP versions until 5.3.8

Additions and changes:
- all required resources used now the default autoloader
- allow to run either a stand-alone or pear installed version
- Reports refactoring (33 percent code reduced)
- Source, Database and Reference reports
will not be print anymore on standard output when --report-file option used
- CAUTION: BC breaks with API 2.8.0 with the new filter system
- list-references does not require --reference option anymore (always used ALL)
- results of list-references may now be filtered
- add a full report (all results at once:
summary, extensions, interfaces, traits, classes, functions, constants, globals, tokens, conditions)
- fixed Reference interface about new filter API
- WARNING: PHP_Timer 1.0.4 (autoloader) break PHP 5.2 compatibility, so the print resource feature become optional
- improved true results again with detection of conditional code and excludes from parsing
- upgrade ssh reference to version 0.12 (thanks to Remi Collet)
- upgrade openssl reference with new PHP 5.4.8 constants (thanks to Remi Collet)
- upgrade standard reference with PHP 5.4.8 optional second argument for assert() to specify custom message
- Extension report show now the real extension version min/max depending of others elements parsed
(thanks to Remi Collet to noticed me)
- test suites may be run by group, using phpunit --exclude-group or --group switches

Bug fixes:
- PHP 5.4 raises notice error (Array to string conversion) in file cache, while PHP 5.2 and 5.3 did not
- standard reference fixed: mkdir mode parameter is required since PHP 4.0.0 and not 4.2.0 (it became optional)
- multiple reports may now be appended in the same report file
- fixed phpunit-growl.xml configuration file: display icons to both pear or stand-alone installation
- avoid php warnings when argument to list command (of CLI tool) is invalid (requires Console_CommandLine 1.2.0 or better)
- depending of typeHint (interface, class), report now in the real category rather than just in classes
"

[require]
php = 5.2.0
pearinstaller = 1.9.0

components.ez.no/Base = 1.8
components.ez.no/ConsoleTools = 1.6.1
pear.php.net/Console_CommandLine = 1.2.0
bartlett.laurent-laville.org/PHP_Reflect = 1.4.2

ext/dom =
ext/libxml =
ext/pcre =
ext/spl =
ext/Reflection =

[optional]
pear.php.net/Net_Growl = 2.6.0
pear.phpunit.de/PHPUnit = 3.6.0
pear.phpunit.de/PHP_Timer = 1.0.0

[replacements]
; global replacement
* = "package-info, @package_version@, version"
PHP/*/*/* = "git-rcs-keywords"
PHP/*/* = "git-rcs-keywords"
PHP/* = "git-rcs-keywords"
tests/*Test.php = "git-rcs-keywords"
tests/Reference/* = "git-rcs-keywords"

; single file replacement
PHP/CompatInfo/CLI.php = "pear-config, @cfg_dir@, cfg_dir"
scripts/phpci = "pear-config, @php_bin@, php_bin"
scripts/phpci.bat[] = "pear-config, @php_bin@, php_bin"
scripts/phpci.bat[] = "pear-config, @bin_dir@, bin_dir"

[installConditions]
windowsEol = scripts/phpci.bat
unixEol = scripts/phpci

windows.installAs[] = "scripts/phpci.bat, phpci.bat"
windows.installAs[] = "scripts/phpci, phpci"

other.installAs = "scripts/phpci, phpci"
other.ignores = "scripts/phpci.bat, phpci.bat"
